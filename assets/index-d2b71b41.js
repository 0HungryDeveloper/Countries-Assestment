(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();const N=(e,t)=>e.name.official.localeCompare(t.name.official),b=(e,t)=>t.name.official.localeCompare(e.name.official),x=e=>e||"No capital",O=e=>e?Object.values(e):"No language to display",p={ascendingMode:N,descendingMode:b,getCapital:x,getLanguage:O},h=document.querySelector(".modal"),C=document.querySelector(".overlay"),P=document.querySelector(".close-modal"),D=document.querySelector(".country"),I=document.querySelector(".country__content"),j=()=>{h.classList.remove("hidden"),C.classList.remove("hidden")},A=()=>{h.classList.add("hidden"),C.classList.add("hidden")},s={openModal:j,closeModal:A,modal:h,overlay:C,btnCloseModal:P,country:D,countryContent:I},f=document.querySelector("#countries"),v=document.querySelector("#toggle"),B=document.querySelector("#previous"),T=document.querySelector("#next"),L="Ascending Mode",m="Descending Mode",g=10;let i=1,l=0,u=10;function M(e){l=(e-1)*g,u=l+g}async function _(){return await(await fetch("https://restcountries.com/v3.1/all")).json()}async function k(e){return await(await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${e}`)).json()}function a(e){const t=document.createElement("td");return t.textContent=e,t}function E(e){e.map(t=>{const c=document.createElement("tr"),{name:{official:r},capital:n,region:o,languages:d,population:S,flag:w}=t;c.appendChild(a(r)),c.appendChild(a(p.getCapital(n))),c.appendChild(a(o)),c.appendChild(a(p.getLanguage(d))),c.appendChild(a(S)),c.appendChild(a(w)),c.addEventListener("click",async()=>{const q=await k(r);s.openModal(),s.country.textContent=r,s.countryContent.textContent=q.extract}),s.btnCloseModal.addEventListener("click",s.closeModal),s.overlay.addEventListener("click",s.closeModal),f.appendChild(c)})}function y(e){for(;f.firstChild;)f.removeChild(f.firstChild);E(e)}window.addEventListener("DOMContentLoaded",async()=>{const e=await _();e.sort(p.ascendingMode),E(e.slice(l,u));let t=m;v.addEventListener("click",()=>{t=t===m?L:m,v.textContent=t,e.sort(t===L?p.descendingMode:p.ascendingMode),y(e.slice(l,u))}),B.addEventListener("click",()=>{i>1&&(i--,M(i),y(e.slice(l,u)))}),T.addEventListener("click",()=>{const c=Math.ceil(e.length/g);i<c&&(i++,M(i),y(e.slice(l,u)))})});
