(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const M=(e,t)=>e.name.official.localeCompare(t.name.official),b=(e,t)=>t.name.official.localeCompare(e.name.official),N=new tingle.modal({footer:!1,stickyFooter:!1,closeMethods:["overlay","button","escape"],closeLabel:"Close",cssClass:["custom-class-1","custom-class-2"]}),O=e=>e||"No capital",P=e=>e?Object.values(e):"No language to display",c={ascendingMode:M,descendingMode:b,modal:N,getCapital:O,getLanguage:P},f=document.querySelector("#countries"),h=document.querySelector("#toggle"),S=document.querySelector("#previous"),x=document.querySelector("#next"),y="Ascending Mode",p="Descending Mode",g=10;let r=1,l=0,u=10;function C(e){l=(e-1)*g,u=l+g}async function q(){return await(await fetch("https://restcountries.com/v3.1/all")).json()}async function D(e){return await(await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${e}`)).json()}function a(e){const t=document.createElement("td");return t.textContent=e,t}function v(e){e.map(t=>{const s=document.createElement("tr"),{name:{official:i},capital:n,region:o,languages:d,population:L,flag:w}=t;s.addEventListener("click",async()=>{const E=await D(i);c.modal.setContent(`<h1>${i}</h1><br>${E.extract_html}`),c.modal.open()}),s.appendChild(a(i)),s.appendChild(a(c.getCapital(n))),s.appendChild(a(o)),s.appendChild(a(c.getLanguage(d))),s.appendChild(a(L)),s.appendChild(a(w)),f.appendChild(s)})}function m(e){for(;f.firstChild;)f.removeChild(f.firstChild);v(e)}window.addEventListener("DOMContentLoaded",async()=>{const e=await q();e.sort(c.ascendingMode),v(e.slice(l,u));let t=p;h.addEventListener("click",()=>{t=t===p?y:p,h.textContent=t,e.sort(t===y?c.descendingMode:c.ascendingMode),m(e.slice(l,u))}),S.addEventListener("click",()=>{r>1&&(r--,C(r),m(e.slice(l,u)))}),x.addEventListener("click",()=>{const s=Math.ceil(e.length/g);r<s&&(r++,C(r),m(e.slice(l,u)))})});
